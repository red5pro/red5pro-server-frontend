/*! red5pro-client-html-sdk - v0.5.1 - 2015-04-28
* Copyright (c) 2015 Infrared5; Licensed  */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){!function(a,b,c,d,e,f){this.$=function(a){return new $[c].i(a)},f={length:0,i:function(c){b.push.apply(this,c&&c.nodeType?[c]:""+c===c?b.slice.call(a.querySelectorAll(c)):/^f/.test(typeof c)?$(a).r(c):null)},r:function(b){return/c/.test(a.readyState)?b():$(a).on("DOMContentLoaded",b),this},on:function(a,b){return this.each(function(c){c["add"+d](a,b)})},off:function(a,b){return this.each(function(c){c["remove"+d](a,b)})},each:function(a,c){return b.forEach.call(c=this,a),c},splice:b.splice},$[c]=f.i[c]=f}(document,[],"prototype","EventListener"),b.exports=$},{}],2:[function(){!function(){function a(a){if(this._element=a,a.className!=this._classCache){if(this._classCache=a.className,!this._classCache)return;var b,c=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(b=0;b<c.length;b++)g.call(this,c[b])}}function b(a,b){a.className=b.join(" ")}function c(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c}):a.__defineGetter__(b,c)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1});var d=Array.prototype,e=d.indexOf,f=d.slice,g=d.push,h=d.splice,i=d.join;a.prototype={add:function(a){this.contains(a)||(g.call(this,a),b(this._element,f.call(this,0)))},contains:function(a){return-1!==e.call(this,a)},item:function(a){return this[a]||null},remove:function(a){var c=e.call(this,a);-1!==c&&(h.call(this,c,1),b(this._element,f.call(this,0)))},toString:function(){return i.call(this," ")},toggle:function(a){return this.contains(a)?this.remove(a):this.add(a),this.contains(a)}},window.DOMTokenList=a,c(Element.prototype,"classList",function(){return new a(this)})}}()},{}],3:[function(){!function(){function a(){i=!0,this.removeEventListener("DOMAttrModified",a,!1)}function b(a){return a.replace(g,function(a,b){return b.toUpperCase()})}function c(){var a={};return e.call(this.attributes,function(c){(d=c.name.match(f))&&(a[b(d[1])]=c.value)}),a}var d,e=[].forEach,f=/^data-(.+)/,g=/\-([a-z])/gi,h=document.createElement("div"),i=!1;void 0==h.dataset&&(h.addEventListener("DOMAttrModified",a,!1),h.setAttribute("foo","bar"),Element.prototype.__defineGetter__("dataset",i?function(){return this._datasetCache||(this._datasetCache=c.call(this)),this._datasetCache}:c),document.addEventListener("DOMAttrModified",function(a){delete a.target._datasetCache},!1))}()},{}],4:[function(){!window.addEventListener&&function(a,b,c,d,e,f,g){a[d]=b[d]=c[d]=function(a,b){var c=this;g.unshift([c,a,b,function(a){a.currentTarget=c,a.preventDefault=function(){a.returnValue=!1},a.stopPropagation=function(){a.cancelBubble=!0},a.target=a.srcElement||c,b.call(c,a)}]),this.attachEvent("on"+a,g[0][3])},a[e]=b[e]=c[e]=function(a,b){for(var c,d=0;c=g[d];++d)if(c[0]==this&&c[1]==a&&c[2]==b)return this.detachEvent("on"+a,g.splice(d,1)[0][3])},a[f]=b[f]=c[f]=function(a){return this.fireEvent("on"+a.type,a)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])},{}],5:[function(a,b){b.exports=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}},{}],6:[function(){},{}],7:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],8:[function(a,b){"use strict";b.exports={createStateMessage:function(a,b){return{type:a,params:[b]}}}},{}],9:[function(a,b){"use strict";var c=a("../../lib/ki.min"),d=a("../../lib/polyfill/request-animation-frame");!function(){a("../../lib/polyfill/dataset"),a("../../lib/polyfill/classList"),a("../../lib/polyfill/element-events")}(),b.exports={exposeNoConflict:function(a){var b,c=function(){return"undefined"!=typeof b&&(window.secondscreenClient=b),a};"secondscreenClient"in window?b=window.secondscreenClient:(a.noConflict=c,window.secondscreenClient=a)},getHost:function(){return window.secondscreenClient.noConflict()},requestRenderFrame:function(a){d()(a)},querySelectorAll:function(a){return c(a)},createElement:function(a){return document.createElement(a)},createTextElement:function(a){return document.createTextNode(a)},makeObservable:function(a){return c(a)},notifyOnHost:function(a){var b=[a].concat(Array.prototype.splice.call(arguments,1));window.sendToHost.apply(null,b)},sendButtonMessage:function(a,b){window.sendButton(a,b)},addCallback:function(a,b){window.addCallback(a,b)},getLogElement:function(){var a=document.querySelector("#log-panel");return{log:function(b){if(a){var c=document.createElement("p"),d=document.createTextNode(b);c.appendChild(d),a.appendChild(c)}else console.log(b)}}}}},{"../../lib/ki.min":1,"../../lib/polyfill/classList":2,"../../lib/polyfill/dataset":3,"../../lib/polyfill/element-events":4,"../../lib/polyfill/request-animation-frame":5}],10:[function(a,b){(function(c){var d=c.browser;b.exports=a(d?"./browser":"./node")}).call(this,a("JkpR2F"))},{"./browser":9,"./node":6,JkpR2F:7}],11:[function(a,b){"use strict";var c=a("../environment/index"),d="log",e="info",f="debug",g="warn",h="error",i="none",j=0,k=[d,e,f,g,h],l=function(a){var b,c=16;if(a.length>c)b=a.substr(0,c-1);else for(b=a;b.length<c-1;)b+=" ";return b},m=function(a){this.name=l(a)};m.prototype.format=function(a,b){var c=new Date,d=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+":"+c.getMilliseconds();return"-"+this.name+"- "+d+" ["+a.toUpperCase()+"] :: "+b},m.prototype.print=function(a,b){var c=k.indexOf(a);0===c?console.log(this.format(a,b)):c>=j&&console[a](this.format(a,b))};var n=function(a){this.name=l(a),this.element=c.getLogElement()};n.prototype.print=function(a,b){this.element.log(a+":: "+b)};var o=function(a,b){for(var c=a.length;--c>-1;)!function(a){b[a]=function(b){this.print.call(this,a,b)}}(a[c])};o(k,m.prototype),o(k,n.prototype),b.exports={LogLevels:{LOG:d,INFO:e,DEBUG:f,WARN:g,ERROR:h,NONE:i},setLogLevel:function(a){var b=k.indexOf(a);b>-1?j=b:a===i&&(j=k.length)},getLogger:function(a){return new m(a)},getDOMLogger:function(a){return new n(a)}}},{"../environment/index":10}],12:[function(a,b){"use strict";var c="0.5.1",d="none",e=a("./struct/base-classes"),f=a("./environment/index"),g=a("./builder/message-builder"),h=a("./log/logger"),i=e.EventEmitter.extend({init:function(){this._super(),this.messageBuilder=g,this.log=h.getLogger("SecondScreen Client"),this.domLogger=void 0},on:function(a,b){this._super(a,b),function(b){f.addCallback(a,function(){var c=Array.prototype.splice.call(arguments,0);b.getDOMLogger().info("device message: "+a+", "+JSON.stringify(c,null,2)),b.trigger.call(b,a,c)})}(this)},send:function(a){var b=Array.prototype.splice.call(arguments,1);f.notifyOnHost.apply(f,[a].concat(b))},setLogLevel:function(a){h.setLogLevel(a)},versionStr:function(){return"Red5 Pro SecondScreen HTML Client Version "+c+"."},getDOMLogger:function(){return void 0===this.domLogger&&(this.domLogger=h.getDOMLogger("SecondScreenClient")),this.domLogger}}),j=new i;j.LogLevels=h.LogLevels,h.setLogLevel(d),f.exposeNoConflict(j),b.exports=j},{"./builder/message-builder":8,"./environment/index":10,"./log/logger":11,"./struct/base-classes":13}],13:[function(a,b){function c(){}var d=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;c.extend=function(a){function b(){!d&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;d=!0;var f=new this;d=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof c[g]&&e.test(a[g])?function(a,b){return function(){var d=this._super;this._super=c[a];var e=b.apply(this,arguments);return this._super=d,e}}(g,a[g]):a[g];return b.prototype=f,b.prototype.constructor=b,b.extend=arguments.callee,b},EventEmitter=c.extend({init:function(){this.callbacks={}},addEventListener:function(a,b){if("function"!=typeof b)throw new Error(".on() callback provided was not a function");void 0===this.callbacks[a]&&(this.callbacks[a]=[]),-1===this.getIndexOfFunctionByType(a,b)&&this.callbacks[a].push(b)},on:function(a,b){this.addEventListener(a,b)},removeEventListener:function(a,b){if(void 0!==this.callbacks[a]){var c=this.callbacks[a],d=this.getIndexOfFunctionByType(a,b);d>-1&&c.splice(d,1)}},getIndexOfFunctionByType:function(a,b){if(void 0!==this.callbacks[a]){var c,d=this.callbacks[a];for(c=0;c<d.length;c++)if(d[c]==b)return c;return-1}return-1},off:function(a,b){this.removeEventListener(a,b)},trigger:function(a,b){if(void 0!==this.callbacks[a])for(var c,d=this.callbacks[a],c=0;c<d.length;c++)d[c](b)},triggerWithType:function(a,b){b.type=a,this.trigger(a,b)}}),b.exports={Class:c,EventEmitter:EventEmitter}},{}]},{},[12]);