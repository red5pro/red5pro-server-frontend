<!-- view jsp_header to view variables used in this page -->
<div class="menu-content">
  <ul class="menu-listing">
    <li><a class="menu-listing-internal welcome-menu-listing" href="/">Welcome</a></li>
    <li><a class="menu-listing-internal" href="/live">Live Streaming</a></li>
      <ul class="menu-sublisting">
        <li><a class="menu-broadcast-link red-text menu-listing-nested" href="/live/broadcast.jsp?host=<%= ip %>">Broadcast&nbsp;<img decoding="async" loading="lazy" src="images/arrow_left.svg" data-src="" alt="" width="12" height="12"></a></li>
        <li><a class="menu-listing-nested" href="/live/subscribe.jsp?host=<%= ip %>">Subscribe&nbsp;<img decoding="async" loading="lazy" src="images/arrow_left.svg" data-src="" alt="" width="12" height="12"></a></li>
        <li><a class="menu-listing-nested" href="/live/playback.jsp?host=<%= ip %>">VOD Playback&nbsp;<img decoding="async" loading="lazy" src="images/arrow_left.svg" data-src="" alt="" width="12" height="12"></a></li>
<!--         <li><a class="menu-listing-nested" href="/live/twoway.jsp">Two-Way Streaming Example&nbsp;<img decoding="async" loading="lazy" src="images/arrow_left.svg" data-src="" alt="" width="16" height="16"></a></li> -->
      </ul>
   <!-- webapps -->
    <hr class="menu-hr">
    <li><a class="menu-listing-internal" href="/truetime">Red5 TrueTime Solutions&#8482;</a></li>
      <ul class="menu-sublisting">
        <!-- truetime apps -->
      </ul>
  </ul>
  <hr>
  <div>
    <p class="menu-listing-button">
      <a href="https://red5pro.zendesk.com?origin=webapps" target="_blank">Found an Issue?</a>
    </p>
  </div>
  <script>
    (function(window, document) {
      var className = 'menu-broadcast-link';
      function handleLiveIpChange(value) {
        var elements = document.getElementsByClassName(className);
        var length = elements ? elements.length : 0;
        var index = 0;
        for(index = 0; index < length; index++) {
          elements[index].href = ['/live/broadcast.jsp?host', value].join('=');
        }
      }
      let timeout
      const setupListener = () => {
        clearTimeout(timeout);
        if (window.r5pro_registerIpChangeListener) {
          window.r5pro_registerIpChangeListener(handleLiveIpChange);
        } else {
          timeout = setTimeout(setupListener, 100);
        }
      }
      timeout = setTimeout(setupListener, 100);
     }(this, document));
  </script>
</div>
